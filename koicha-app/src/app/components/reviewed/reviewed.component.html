<!-- TODO: add consistent content box sizing -->
<div class="relative">
  <app-feed
    [cards]="userReviews"
    (reviewSelected)="onReviewSelected($event)"
    (productToReview)="onReviewProduct($event)"
    (productToBookmark)="onBookmarkProduct($event)"
  ></app-feed>

  <div
    *ngIf="productToReview"
    class="absolute inset-0 z-10 flex items-center justify-center bg-black/10 p-4"
  >
    <app-create-review-card
      class="max-w-2xl"
      [productCard]="productToReview"
      (click)="$event.stopPropagation()"
    ></app-create-review-card>
  </div>

  <!-- TODO: decide whether to keep the grey out effect upon selecting a specific product -->
  <div
    *ngIf="selectedReview"
    class="absolute inset-0 z-10 flex items-center justify-center bg-black/10 p-4"
    (click)="clearSelection()"
  >
    <app-review-details
      class="max-w-2xl"
      [selectedReview]="selectedReview"
      (click)="$event.stopPropagation()"
      (closed)="clearSelection()"
    ></app-review-details>
  </div>
</div>
