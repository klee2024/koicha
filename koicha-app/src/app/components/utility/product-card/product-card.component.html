<ng-container *ngIf="productCardVisible">
  <div class="product-card-main relative overflow-hidden rounded-[10px]">
    <img
      [src]="imageUrl"
      id="product-image"
      alt="{{ name }}"
      class="block h-full w-full object-cover"
    />

    <div class="absolute inset-0 flex flex-col justify-between">
      <div class="flex items-start justify-end gap-2 p-4">
        <div class="exit-button" *ngIf="exit">
          <button
            id="close-product-card"
            class="rounded-full bg-white/80 px-2 py-1 text-xs uppercase tracking-wide text-black backdrop-blur"
            (click)="closeProductCard()"
          >
            close
          </button>
        </div>
        <div class="product-card-buttons flex gap-2">
          <button
            class="bookmark rounded-full bg-white/80 px-3 py-1 text-xs uppercase tracking-wide text-black backdrop-blur"
            (click)="addToBookmarks(id)"
          >
            bookmark
          </button>
          <!-- TODO: update with appropriate symbols -->
          <button
            class="userReview rounded-full bg-white/80 px-3 py-1 text-xs text-black backdrop-blur"
            (click)="reviewProduct('placeholder user', id)"
          >
            <3
          </button>
          <!-- TODO: update with appropriate symbols -->
        </div>
      </div>

      <div
        class="product-card-content bg-white/80 px-5 pb-5 pt-4 backdrop-blur"
      >
        <div class="flex items-center justify-between">
          <a
            [href]="productUrl"
            class="product-name-link font-mono text-lg font-medium"
            target="_blank"
            rel="noopener noreferrer"
            >{{ name }}</a
          >
          <span class="product-brand font-mono text-lg">{{ brand }}</span>
        </div>
        <span
          class="product-preparation block pt-2 font-sans text-xs uppercase tracking-[0.3em]"
          [id]="preparation.id"
        >
          {{ preparation.name }}
        </span>
        <div class="flex items-end justify-between pt-4">
          <div class="product-tagSlugs">
            <ul
              class="product-tagSlugs-list flex flex-wrap gap-3 font-mono text-xs lowercase"
            >
              <li *ngFor="let tag of tags; trackBy: trackById" [id]="tag.id">
                {{ tag.label }}
              </li>
            </ul>
          </div>
          <div class="recommendation-percent font-mono text-xs">
            {{ matchPercentage }}% match
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
